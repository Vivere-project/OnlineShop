{"ast":null,"code":"import * as __NgCli_bootstrap_1 from \"@angular/platform-browser\";\nimport { enableProdMode } from '@angular/core';\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\nimport { loadTranslations } from \"@angular/localize\";\nimport { LocalStorageService } from \"./app/services/local-storage.service\";\n\nif (environment.production) {\n  enableProdMode();\n} // Check localstorage for language and load the file\n\n\nconsole.log('Localstorage locale', localStorage.getItem('locale'));\nconst locale = localStorage.getItem('locale') || 'en';\nfetch('/assets/translations/' + locale + '.json').then(response => {\n  if (!response.ok) {\n    throw new Error('HTTP error ' + response.status);\n  }\n\n  return response.json();\n}).then(json => {\n  // Load translation\n  loadTranslations(json.translations);\n  $localize.locale = json.locale; // Bootstrap app\n\n  __NgCli_bootstrap_1.platformBrowser().bootstrapModule(AppModule).then(ref => {\n    const localStorageService = ref.injector.get(LocalStorageService);\n    localStorageService.subscribe(localStorage => {\n      if (localStorage.theme == \"dark\") document.body.classList.add('dark-theme');else document.body.classList.remove('dark-theme');\n    });\n  }).catch(err => console.error(err));\n}).catch(error => {\n  console.log(error); //Err\n});","map":{"version":3,"sources":["/Users/valeriuseremet/Projects/OnlineShop/OnlineShop.Web/src/main.ts"],"names":["__NgCli_bootstrap_1","enableProdMode","AppModule","environment","loadTranslations","LocalStorageService","production","console","log","localStorage","getItem","locale","fetch","then","response","ok","Error","status","json","translations","$localize","platformBrowser","bootstrapModule","ref","localStorageService","injector","get","subscribe","theme","document","body","classList","add","remove","catch","err","error"],"mappings":"AAAA,OAAO,KAAKA,mBAAZ,MAAqC,2BAArC;AACA,SAASC,cAAT,QAA+B,eAA/B;AACA,SAASC,SAAT,QAA0B,kBAA1B;AACA,SAASC,WAAT,QAA4B,4BAA5B;AACA,SAASC,gBAAT,QAAiC,mBAAjC;AACA,SAASC,mBAAT,QAAoC,sCAApC;;AACA,IAAIF,WAAW,CAACG,UAAhB,EAA4B;AACxBL,EAAAA,cAAc;AACjB,C,CACD;;;AACAM,OAAO,CAACC,GAAR,CAAY,qBAAZ,EAAmCC,YAAY,CAACC,OAAb,CAAqB,QAArB,CAAnC;AACA,MAAMC,MAAM,GAAGF,YAAY,CAACC,OAAb,CAAqB,QAArB,KAAkC,IAAjD;AACAE,KAAK,CAAC,0BAA0BD,MAA1B,GAAmC,OAApC,CAAL,CACKE,IADL,CACWC,QAAD,IAAc;AACpB,MAAI,CAACA,QAAQ,CAACC,EAAd,EAAkB;AACd,UAAM,IAAIC,KAAJ,CAAU,gBAAgBF,QAAQ,CAACG,MAAnC,CAAN;AACH;;AACD,SAAOH,QAAQ,CAACI,IAAT,EAAP;AACH,CAND,EAOKL,IAPL,CAOWK,IAAD,IAAU;AAChB;AACAd,EAAAA,gBAAgB,CAACc,IAAI,CAACC,YAAN,CAAhB;AACAC,EAAAA,SAAS,CAACT,MAAV,GAAmBO,IAAI,CAACP,MAAxB,CAHgB,CAIhB;;AACAX,EAAAA,mBAAmB,CAACqB,eAApB,GACKC,eADL,CACqBpB,SADrB,EAEKW,IAFL,CAEUU,GAAG,IAAI;AACb,UAAMC,mBAAmB,GAAGD,GAAG,CAACE,QAAJ,CAAaC,GAAb,CAAiBrB,mBAAjB,CAA5B;AACAmB,IAAAA,mBAAmB,CAACG,SAApB,CAA8BlB,YAAY,IAAI;AAC1C,UAAIA,YAAY,CAACmB,KAAb,IAAsB,MAA1B,EACIC,QAAQ,CAACC,IAAT,CAAcC,SAAd,CAAwBC,GAAxB,CAA4B,YAA5B,EADJ,KAGIH,QAAQ,CAACC,IAAT,CAAcC,SAAd,CAAwBE,MAAxB,CAA+B,YAA/B;AACP,KALD;AAMH,GAVD,EAWKC,KAXL,CAWYC,GAAD,IAAS5B,OAAO,CAAC6B,KAAR,CAAcD,GAAd,CAXpB;AAYH,CAxBD,EAyBKD,KAzBL,CAyBWE,KAAK,IAAI;AAChB7B,EAAAA,OAAO,CAACC,GAAR,CAAY4B,KAAZ,EADgB,CAEhB;AACH,CA5BD","sourcesContent":["import * as __NgCli_bootstrap_1 from \"@angular/platform-browser\";\nimport { enableProdMode } from '@angular/core';\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\nimport { loadTranslations } from \"@angular/localize\";\nimport { LocalStorageService } from \"./app/services/local-storage.service\";\nif (environment.production) {\n    enableProdMode();\n}\n// Check localstorage for language and load the file\nconsole.log('Localstorage locale', localStorage.getItem('locale'));\nconst locale = localStorage.getItem('locale') || 'en';\nfetch('/assets/translations/' + locale + '.json')\n    .then((response) => {\n    if (!response.ok) {\n        throw new Error('HTTP error ' + response.status);\n    }\n    return response.json();\n})\n    .then((json) => {\n    // Load translation\n    loadTranslations(json.translations);\n    $localize.locale = json.locale;\n    // Bootstrap app\n    __NgCli_bootstrap_1.platformBrowser()\n        .bootstrapModule(AppModule)\n        .then(ref => {\n        const localStorageService = ref.injector.get(LocalStorageService);\n        localStorageService.subscribe(localStorage => {\n            if (localStorage.theme == \"dark\")\n                document.body.classList.add('dark-theme');\n            else\n                document.body.classList.remove('dark-theme');\n        });\n    })\n        .catch((err) => console.error(err));\n})\n    .catch(error => {\n    console.log(error);\n    //Err\n});\n"]},"metadata":{},"sourceType":"module"}